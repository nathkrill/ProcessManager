/*
 * Generated by MessagingSoapClientGenerator.
 */

package nl.adaptivity.process.client;

import java.net.URI;
import java.util.concurrent.Future;

import javax.xml.bind.JAXBElement;
import javax.xml.bind.JAXBException;
import javax.xml.namespace.QName;
import javax.xml.transform.Source;

import net.devrieze.util.Tripple;
import nl.adaptivity.messaging.CompletionListener;
import nl.adaptivity.messaging.EndPointDescriptorImpl;
import nl.adaptivity.messaging.EndpointDescriptor;
import nl.adaptivity.messaging.MessagingRegistry;
import nl.adaptivity.messaging.SendableSoapSource;
import nl.adaptivity.ws.soap.SoapHelper;

public class ServletProcessEngineClient {

  private static final QName SERVICE = new QName("http://adaptivity.nl/ProcessEngine/", "ProcessEngine", "");
  private static final String ENDPOINT = "soap";
  private static final URI LOCATION = null;

  private ServletProcessEngineClient() { }

  public static Future<nl.adaptivity.process.exec.Task.TaskState> updateTaskState(long handle, nl.adaptivity.process.exec.Task.TaskState state, java.security.Principal user, CompletionListener completionListener) throws JAXBException {
    final Tripple<String, Class<?>, Object> param0 = Tripple.<String, Class<?>, Object>tripple("handle", long.class, handle);
    final Tripple<String, Class<?>, Object> param1 = Tripple.<String, Class<?>, Object>tripple("state", nl.adaptivity.process.exec.Task.TaskState.class, state);
    final Tripple<String, Class<?>, Object> param2 = Tripple.<String, Class<?>, Object>tripple("user", java.security.Principal.class, user);

    @SuppressWarnings("unchecked")
    Source message = SoapHelper.createMessage(new QName("updateTaskState"), param0, param1, param2);

    EndpointDescriptor endpoint = new EndPointDescriptorImpl(SERVICE, ENDPOINT, LOCATION);

    return MessagingRegistry.sendMessage(new SendableSoapSource(endpoint, message), completionListener, nl.adaptivity.process.exec.Task.TaskState.class);
  }

  public static Future<nl.adaptivity.process.exec.Task.TaskState> finishTask(long handle, org.w3c.dom.Node payload, java.lang.String user, CompletionListener completionListener) throws JAXBException {
    final Tripple<String, Class<?>, Object> param0 = Tripple.<String, Class<?>, Object>tripple("handle", long.class, handle);
    final Tripple<String, Class<?>, Object> param1 = Tripple.<String, Class<?>, Object>tripple("payload", org.w3c.dom.Node.class, payload);
    final Tripple<String, Class<?>, Object> param2 = Tripple.<String, Class<?>, Object>tripple("user", java.lang.String.class, user);

    @SuppressWarnings("unchecked")
    Source message = SoapHelper.createMessage(new QName("finishTask"), param0, param1, param2);

    EndpointDescriptor endpoint = new EndPointDescriptorImpl(SERVICE, ENDPOINT, LOCATION);

    return MessagingRegistry.sendMessage(new SendableSoapSource(endpoint, message), completionListener, nl.adaptivity.process.exec.Task.TaskState.class);
  }

  public static Future<nl.adaptivity.process.exec.Task.TaskState> finishTask(long handle, org.w3c.dom.Node payload, java.security.Principal user, CompletionListener completionListener) throws JAXBException {
    final Tripple<String, Class<?>, Object> param0 = Tripple.<String, Class<?>, Object>tripple("handle", long.class, handle);
    final Tripple<String, Class<?>, Object> param1 = Tripple.<String, Class<?>, Object>tripple("payload", org.w3c.dom.Node.class, payload);

    @SuppressWarnings("unchecked")
    Source message = SoapHelper.createMessage(new QName("finishTask"), java.util.Arrays.asList(new JAXBElement<String>(new QName("http://adaptivity.nl/ProcessEngine/","principal"), String.class, user.getName())), param0, param1);

    EndpointDescriptor endpoint = new EndPointDescriptorImpl(SERVICE, ENDPOINT, LOCATION);

    return MessagingRegistry.sendMessage(new SendableSoapSource(endpoint, message), completionListener, nl.adaptivity.process.exec.Task.TaskState.class);
  }

}
